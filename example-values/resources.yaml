# This file contains the configuration for resources limits/requests for fusion
# components. In general these resources allow for overprovisioning of a node
# If this is not desired then change the requested values to match the limits.

solr:
  resources:
    requests:
      cpu: 500m
      memory: 5Gi
    limits:
      cpu: 1
      memory: 5Gi

pulsar:
  broker:
    resources:
      requests:
        cpu: 300m
        memory: 2300Mi
      limits:
        cpu: 600m
        memory: 2300Mi
  bookkeeper:
    resources:
      requests:
        cpu: 300m
        memory: 2300Mi
      limits:
        cpu: 600m
        memory: 2300Mi

admin-ui:
  resources:
    requests:
      cpu: "50m"
      memory: "8Mi"
    limits:
      cpu: "50m"
      memory: "32Mi"

api-gateway:
  resources:
    requests:
      cpu: "400m"
      memory: "2300Mi"
    limits:
      cpu: 800m
      memory: "2300Mi"

auth-ui:
  resources:
    requests:
      cpu: "50m"
      memory: "8Mi"
    limits:
      cpu: "50m"
      memory: "32Mi"

classic-rest-service:
  resources:
    requests:
      cpu: "300m"
      memory: "2300Mi"
    limits:
      cpu: "600m"
      memory: "2300Mi"

devops-ui:
  resources:
    requests:
      cpu: "50m"
      memory: "8Mi"
    limits:
      cpu: "50m"
      memory: "32Mi"

fusion-admin:
  resources:
    requests:
      cpu: "400m"
      memory: "2300Mi"
    limits:
      cpu: "800m"
      memory: "2300Mi"

fusion-indexing:
  resources:
    requests:
      cpu: "500m"
      memory: "800Mi"
    limits:
      cpu: "900m"
      memory: "1600Mi"

insights:
  resources:
    requests:
      cpu: "50m"
      memory: "500Mi"
    limits:
      cpu: "100m"
      memory: "1Gi"

job-launcher:
  resources:
    requests:
      memory: 2Gi
      cpu: 200m
    limits:
      memory: 3Gi
      cpu: 800m

job-rest-server:
  resources:
    requests:
      memory: 1Gi
      cpu: 200m
    limits:
      memory: 1Gi
      cpu: 800m

ml-model-service:
  pythonService:
    resources:
      requests:
        memory: 1Gi
        cpu: 300m
      limits:
        memory: 3Gi
        cpu: 800m
  javaService:
    resources:
      requests:
        memory: 1Gi
        cpu: 800m
      limits:
        memory: 3Gi
        cpu: 1500m
  argo:
    ui:
      resources:
        requests:
          memory: "128Mi"
          cpu: "50m"
        limits:
          memory: "256Mi"
          cpu: "100m"
    controller:
      resources:
        requests:
          memory: "128Mi"
          cpu: "50m"
        limits:
          memory: "256Mi"
          cpu: "100m"


  ambassador:
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"

fusion-question-answering:
  resources:
    default:
      requests:
        memory: "64Mi"
        cpu: "10m"
      limits:
        memory: "100Mi"
        cpu: "30m"

    coldstart:      
      dataPuller: 
        requests:
          memory: "2Gi" 
          cpu: "100m"
        limits:
          memory: "4Gi"
          cpu: "500m"
      train: 
        requests:
          memory: "6Gi"
          cpu: "10000m"
        limits:
          memory: "8Gi"
          cpu: "20000m"
      seldon:
        requests:
          memory: "2Gi"
          cpu: "200m"
        limits:
          memory: "3Gi"
          cpu: "1000m"
          
    supervised:
      dataPuller: 
        requests:
          memory: "2Gi" 
          cpu: "100m"
        limits:
          memory: "4Gi"
          cpu: "500m"
      train: 
        requests:
          memory: "8Gi"
          cpu: "10000m"
        limits:
          memory: "10Gi"
          cpu: "20000m"
      seldon:
        requests:
          memory: "2Gi"
          cpu: "200m"
        limits:
          memory: "3Gi"
          cpu: "1000m"

    evaluation:
      dataPuller: 
        requests:
          memory: "2Gi" 
          cpu: "100m"
        limits:
          memory: "4Gi"
          cpu: "500m"
      train: 
        requests:
          memory: "6Gi"
          cpu: "10000m"
        limits:
          memory: "8Gi"
          cpu: "20000m"
      seldon:
        requests:
          memory: "2Gi"
          cpu: "200m"
        limits:
          memory: "3Gi"
          cpu: "1000m"

    deploy:
      seldon:
        requests:
          memory: "2Gi"
          cpu: "200m"
        limits:
          memory: "3Gi"
          cpu: "1000m"



query-pipeline:
  resources:
    requests:
      cpu: "600m"
      memory: "2300Mi"
    limits:
      cpu: 1500m
      memory: "3300Mi"

rest-service:
  resources:
    requests:
      cpu: "200m"
      memory: "1500Mi"
    limits:
      cpu: "400m"
      memory: "2300Mi"

rpc-service:
  resources:
    requests:
      cpu: "300m"
      memory: "1500Mi"
    limits:
      cpu: "600m"
      memory: "2300Mi"

rules-ui:
  resources:
    requests:
      cpu: "50m"
      memory: "8Mi"
    limits:
      cpu: "50m"
      memory: "32Mi"

zookeeper:
  resources:
    requests:
      memory: 1Gi
      cpu: 300m
    limits:
      memory: 1500Mi
      cpu: 800m

sql-service:
  resources:
    requests:
      cpu: "500m"
      memory: 2Gi
    limits:
      cpu: "800m"
      memory: 2Gi

webapps:
  resources:
    requests:
      cpu: "300m"
      memory: "800Mi"
    limits:
      cpu: "400m"
      memory: "1300Mi"
